<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz Page</title>
    <link rel="stylesheet" href="/css/quiz_page.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
</head>

<body>
<div class="quiz-container">

    <!-- Sidebar -->
    <div class="sidebar">
        <div class="sidebar-header">
            <h2>StudyPop</h2>
        </div>
        <ul class="menu">
            <li><a href="/login">Logout</a></li>
        </ul>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <div class="main-content-header">
            <h2 th:text="'Quiz untuk Topik: ' + ${topicName}"></h2>
        </div>

        <!-- Menampilkan soal dalam kotak-kotak -->
        <div class="flashcard-container">
            <form action="/submit-answer" method="post">
                <div th:each="flashcard : ${flashcard}">
                    <div class="flashcard">
                        <!-- Menampilkan soal -->
                        <p class="question" th:text="${flashcard.question}"></p>
                        <!-- Input untuk jawaban -->
                        <input type="text" name="userAnswer[]" placeholder="Masukkan jawabanmu di sini" required>
                        <!-- Menyimpan ID flashcard -->
                        <input type="hidden" name="flashcardIds[]" th:value="${flashcard.id}">
                    </div>
                </div>

                <!-- Menambahkan input hidden untuk questionIndex -->
                <input type="hidden" name="questionIndex" th:value="${questionIndex}">
                <input type="hidden" name="topicId" th:value="${topicId}">
                <input type="hidden" name="role" th:value="${role}">

                <!-- Tombol Submit -->
                <button type="submit">Submit Answers</button>
            </form>
        </div>


        <!-- Tombol Admin -->
        <div class="admin-actions" th:if="${role == 'admin'}">
            <h2>Admin Actions</h2>
            <a href="/add-quiz">Add New Quiz</a><br>
            <a href="/delete-quiz">Delete Quiz</a>
        </div>

    </div>
</div>

</body>
</html>
